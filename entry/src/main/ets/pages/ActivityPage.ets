import { router } from '@kit.ArkUI';

@Entry
@Component
struct ActivityPage {
  build() {
    Column() {
      this.buildTopBar()
      Scroll() {
        Column() {
          this.buildHeroSection()
          this.buildBenefitBanner()
          this.buildTabs()
          this.buildColorSelector()
          this.buildConfigTags()
          this.buildPriceBlock()
          this.buildTitle()
          this.buildBenefitList()
          this.buildBottomActions()
        }
        .width('100%')
      }
      .width('100%')
      .layoutWeight(1)
      .backgroundColor('#F6F7FB')
    }
    .width('100%')
    .height('100%')
  }

  @Builder
  buildTopBar() {
    Row() {
      Text('â†')
        .fontSize(22)
        .fontColor('#111')
        .onClick(() => router.back())
      Blank().layoutWeight(1)
      Row({ space: 12 }) {
        Text('ğŸ”').fontSize(18)
        Text('â†—').fontSize(18)
      }
    }
    .width('100%')
    .height(52)
    .padding({ left: 12, right: 12 })
    .backgroundColor(Color.White)
  }

  @Builder
  buildHeroSection() {
    Row() {
      // å·¦ä¾§ä¿ƒé”€å¡
      Column() {
        Text('12Â·12')
          .fontSize(22)
          .fontWeight(FontWeight.Bold)
          .fontColor('#FF2E3D')
        Text('åä¸ºå¹´ç»ˆå¥½ä»·èŠ‚')
          .fontSize(16)
          .fontWeight(FontWeight.Bold)
          .fontColor('#FF2E3D')
          .margin({ bottom: 10 })
        Text('è´­æœºèµ è“ç‰™è€³æœº')
          .fontSize(14)
          .fontColor('#B00000')
        Text('äº«12æœŸå…æ¯')
          .fontSize(14)
          .fontColor('#B00000')
          .margin({ bottom: 12 })
        Button('ç«‹å³äº«ç¦åˆ©')
          .type(ButtonType.Capsule)
          .backgroundColor('#FF2E3D')
          .fontColor(Color.White)
          .height(34)
          .padding({ left: 12, right: 12 })
      }
      .width(190)
      .padding({ left: 12, right: 12, top: 14, bottom: 14 })
      .backgroundColor('#FFF0EE')
      .borderRadius({ topLeft: 18, bottomLeft: 18 })

      // å³ä¾§äº§å“å›¾
      Image($r('app.media.phone_Mate_80'))
        .width('100%')
        .height(210)
        .objectFit(ImageFit.Contain)
        .padding({ left: 20, right: 200 })
    }
    .width('100%')
    .height(230)
    .backgroundColor('#FFFFFF')
    .borderRadius(18)
    .shadow({ radius: 12, color: '#12000000', offsetY: 4 })
    .margin({ left: 12, right: 12, top: 10 })
  }

  @Builder
  buildBenefitBanner() {
    Row() {
      Text('æ–°å“ä¸Šå¸‚ 365å¤©åªæ¢ä¸ä¿® + 1å¹´å±ä¿ + 2å¹´ç”µé‡å®')
        .fontSize(14)
        .fontColor(Color.White)
        .layoutWeight(1)
      Text('ç«‹å³é¢†å–').fontSize(14).fontColor(Color.White)
    }
    .padding({ left: 14, right: 14, top: 10, bottom: 10 })
    .backgroundColor('#FF3B30')
    .borderRadius(14)
    .margin({ left: 12, right: 12, top: 12 })
  }

  @Builder
  buildTabs() {
    Row({ space: 8 }) {
      this.buildTab('æ¦‚è§ˆ(1/10)', true)
      this.buildTab('æœåŠ¡', false)
      this.buildTab('æ­é…è´­', false)
      this.buildTab('è¯¦æƒ…', false)
    }
    .padding({ left: 12, right: 12, top: 12 })
  }

  @Builder
  buildTab(label: string, active: boolean) {
    Text(label)
      .fontSize(13)
      .fontWeight(active ? FontWeight.Bold : FontWeight.Normal)
      .fontColor(active ? '#222' : '#888')
      .padding({ left: 10, right: 10, top: 6, bottom: 6 })
      .backgroundColor(active ? '#EDF2FF' : '#F5F5F5')
      .borderRadius(14)
  }

  @Builder
  buildColorSelector() {
    Column() {
      Row({ space: 10 }) {
        this.buildTag('æµ·è“å®', true)
        this.buildTag('æ›œçŸ³é»‘', false)
        this.buildTag('æœˆå…‰é“¶', false)
        this.buildTag('æ˜Ÿå…‰ç²‰', false)
      }
      .margin({ bottom: 8 })
      Row({ space: 10 }) {
        this.buildTag('å®˜æ–¹æ ‡é…', true)
        this.buildTag('ä»¥æ—§æ¢æ–°', false)
        this.buildTag('é«˜è¡¥è´´1200', false)
      }
    }
    .padding({ left: 12, right: 12, top: 10 })
  }

  @Builder
  buildConfigTags() {
    Column() {
      Row({ space: 8 }) {
        this.buildChip('å›½è¡¥15%')
        this.buildChip('1å…ƒå¾—199å…ƒèµ å“åˆ¸')
        this.buildChip('æŠ¢è´­')
        this.buildChip('ä¸“äº«')
        this.buildChip('ä¼˜æƒ ')
      }
    }
    .padding({ left: 12, right: 12, top: 8 })
  }

  @Builder
  buildChip(label: string) {
    Text(label)
      .fontSize(12)
      .fontColor('#007AFF')
      .padding({ left: 10, right: 10, top: 6, bottom: 6 })
      .backgroundColor('#E8F2FF')
      .borderRadius(14)
  }

  @Builder
  buildPriceBlock() {
    Column() {
      Row() {
        Text('å›½è¡¥åçº¦ Â¥3699')
          .fontSize(22)
          .fontWeight(FontWeight.Bold)
          .fontColor('#0B9B00')
        Text('Â¥4088')
          .fontSize(14)
          .fontColor('#FFFFFF')
          .opacity(0.8)
          .margin({ left: 10 })
      }
      Text('12æœŸå…æ¯ ä½è‡³ Â¥349.92*12æœŸ')
        .fontSize(12)
        .fontColor('#F8FFE6')
        .margin({ top: 6 })
    }
    .padding({ left: 14, right: 14, top: 12, bottom: 12 })
    .backgroundColor('#1CAE00')
    .borderRadius(14)
    .margin({ left: 12, right: 12, top: 12 })
  }

  @Builder
  buildTitle() {
    Text('HUAWEI P50 Pro 16GB+512GB æµ·è“å® åŒå¡ å…¨ç½‘é€šç‰ˆ')
      .fontSize(16)
      .fontWeight(FontWeight.Bold)
      .fontColor('#222')
      .margin({ left: 12, right: 12, top: 14 })
  }

  @Builder
  buildBenefitList() {
    Column() {
      Row() {
        Text('å›½å®¶è¡¥è´´').fontSize(12).fontColor('#0B9B00')
          .padding({ left: 10, right: 10, top: 6, bottom: 6 })
          .backgroundColor('#E4F7E2')
          .borderRadius(12)
        Text('å›½å®¶è¡¥è´´15%ï¼Œè‡³é«˜è¡¥è´´500å…ƒ')
          .fontSize(12)
          .fontColor('#333')
          .margin({ left: 8 })
        Blank()
        Text('ç«‹å³é¢†å–').fontSize(12).fontColor('#0B9B00')
      }
      .margin({ bottom: 12 })

      Text('ã€æ–°å“ä¸Šå¸‚ã€‘â‘ è´­æ–°å“1å…ƒæƒç›ŠåŒ…å¾—199å…ƒç¤¼ç›’èµ å“åˆ¸â‘¡é€€æ¢è´§å…è¿è´¹â‘¢æ”¯æŒçœå¿ƒæ¢é¢œè‰²æœåŠ¡â‘£ç«™å†…+å°é¢å¤–å…æ¯â€¦')
        .fontSize(12)
        .fontColor('#B00000')
        .lineHeight(18)
    }
    .padding({ left: 12, right: 12, top: 10 })
  }

  @Builder
  buildBottomActions() {
    Row() {
      Button('åŠ å…¥è´­ç‰©è½¦')
        .type(ButtonType.Capsule)
        .backgroundColor('#FF9500')
        .fontColor(Color.White)
        .height(44)
        .layoutWeight(1)
      Button('ç«‹å³è´­ä¹°')
        .type(ButtonType.Capsule)
        .backgroundColor('#007AFF')
        .fontColor(Color.White)
        .height(44)
        .layoutWeight(1)
        .margin({ left: 12 })
    }
    .padding({ left: 12, right: 12, top: 16, bottom: 30 })
  }

  @Builder
  buildTag(label: string, active: boolean) {
    Text(label)
      .fontSize(13)
      .fontColor(active ? '#007AFF' : '#555')
      .padding({ left: 12, right: 12, top: 8, bottom: 8 })
      .backgroundColor(active ? '#E8F2FF' : '#F5F5F5')
      .borderRadius(16)
  }
}
